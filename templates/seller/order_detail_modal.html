<div class="order-detail-modal">
    <div class="row mb-4">
        <div class="col-md-6">
            <h6><i class="fas fa-shopping-cart"></i> Order Information</h6>
            <p class="mb-1"><strong>Order ID:</strong> #{{ order.id }}</p>
            <p class="mb-1"><strong>Status:</strong> 
                <span class="badge bg-{{ 'warning' if order.status == 'pending' else 'primary' if order.status == 'confirmed' or order.status == 'processing' else 'info' if order.status == 'shipped' else 'success' if order.status == 'delivered' else 'danger' if order.status == 'cancelled' else 'secondary' }}">
                    {{ order.status.title() }}
                </span>
            </p>
            <p class="mb-1"><strong>Date:</strong> {{ order.created_at.strftime('%B %d, %Y at %I:%M %p') }}</p>
            <p class="mb-1"><strong>Total Amount:</strong> ${{ "%.2f"|format(order.total_amount) }}</p>
            <p class="mb-1"><strong>Payment Method:</strong> {{ order.payment_method.upper() }}</p>
            {% if order.notes %}
                <p class="mb-1"><strong>Notes:</strong> {{ order.notes }}</p>
            {% endif %}
        </div>
        <div class="col-md-6">
            <h6><i class="fas fa-credit-card"></i> Payment Status</h6>
            <p class="mb-1"><strong>Payment Status:</strong> 
                <span class="badge bg-{{ 'warning' if order.payment_status == 'pending' else 'success' if order.payment_status == 'paid' else 'secondary' if order.payment_status == 'refunded' else 'danger' }}">
                    {{ order.payment_status.title() }}
                </span>
            </p>
        </div>
    </div>

    <div class="row mb-4">
        <div class="col-md-6">
            <h6><i class="fas fa-user"></i> Customer Details</h6>
            <p class="mb-1"><strong>{{ order.customer_name }}</strong></p>
            <p class="mb-1 text-muted">{{ order.customer_email }}</p>
            {% if order.customer_phone %}
                <p class="mb-0 text-muted">{{ order.customer_phone }}</p>
            {% endif %}
        </div>
        <div class="col-md-6">
            <h6><i class="fas fa-map-marker-alt"></i> Shipping Address</h6>
            <p class="mb-0 text-muted">
                {{ order.shipping_address }}
            </p>
        </div>
    </div>

    <div class="mb-4">
        <h6><i class="fas fa-box"></i> Order Items ({{ order.items_count }} items)</h6>
        <div class="table-responsive">
            <table class="table table-sm">
                <thead>
                    <tr>
                        <th>Product</th>
                        <th>Quantity</th>
                        <th>Price at Time</th>
                        <th>Total</th>
                    </tr>
                </thead>
                <tbody>
                    {% for item in order.items %}
                        <tr>
                            <td>
                                <div class="d-flex align-items-center">
                                    <img src="{{ item.image_url or 'https://via.placeholder.com/50x50?text=Product' }}" 
                                         class="me-2 rounded" style="width: 50px; height: 50px; object-fit: cover;" 
                                         alt="{{ item.name }}">
                                    <div>
                                        <strong>{{ item.name }}</strong>
                                        {% if item.description %}
                                            <br><small class="text-muted">{{ item.description[:50] }}...</small>
                                        {% endif %}
                                    </div>
                                </div>
                            </td>
                            <td>{{ item.quantity }}</td>
                            <td>${{ "%.2f"|format(item.price_at_time) }}</td>
                            <td>${{ "%.2f"|format(item.quantity * item.price_at_time) }}</td>
                        </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>

    {% if order.notes %}
    <div class="mb-4">
        <h6><i class="fas fa-sticky-note"></i> Customer Notes</h6>
        <p class="border p-3 bg-light rounded">{{ order.notes }}</p>
    </div>
    {% endif %}

    <div class="row">
        <div class="col-md-6">
            <h6><i class="fas fa-history"></i> Order Timeline</h6>
            <ul class="list-unstyled">
                <li class="mb-2"><small class="text-muted">• Placed: {{ order.created_at.strftime('%B %d, %Y at %I:%M %p') }}</small></li>
                {% if order.updated_at != order.created_at %}
                    <li class="mb-2"><small class="text-muted">• Last Updated: {{ order.updated_at.strftime('%B %d, %Y at %I:%M %p') }}</small></li>
                {% endif %}
            </ul>
        </div>
        <div class="col-md-6 text-md-end">
            <h6><i class="fas fa-receipt"></i> Order Summary</h6>
            <p class="mb-1"><strong>Subtotal:</strong> ${{ "%.2f"|format(order.total_amount) }}</p>
            <p class="mb-1"><strong>Shipping:</strong> Free</p>
            <hr>
            <p class="mb-0"><strong>Total:</strong> <span class="h5 text-success">${{ "%.2f"|format(order.total_amount) }}</span></p>
        </div>
    </div>
</div>
